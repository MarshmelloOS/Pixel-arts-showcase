<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Pixel Art Gallery</title>
<style>
body {
    margin: 0;
    background: radial-gradient(circle at top, #1f2f44, #121820); /* slightly brighter blue-ish */
    font-family: Arial, sans-serif;
    color: #cfe8ff;
}
h1 { text-align: center; padding: 20px; }
.gallery {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    padding: 20px;
    justify-content: center;
}
.card {
    background: #121820;
    border-radius: 0; /* square cards */
    padding: 10px;
    box-shadow: 0 0 15px rgba(0,0,0,0.1);
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: transform 0.08s, filter 0.08s; /* faster hover */
    cursor: pointer;
}
.card:hover { 
    transform: scale(1.02); /* smaller subtle zoom */
    filter: brightness(1.12); /* slight brightness */
}
img { width: 400px; height: auto; image-rendering: pixelated; display: block; }
.name { text-align: center; margin-top: 10px; font-size: 14px; opacity: 0.8; }

/* Modal */
#modal {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.95); display: none;
    justify-content: center; align-items: center; z-index: 1000; flex-direction: column;
}
#modal img { max-width: 90%; max-height: 80%; image-rendering: pixelated; margin-bottom: 20px; }
#modal .buttons { display: flex; gap: 15px; }
button {
    padding: 10px 15px; font-size: 14px; border: none; border-radius: 5px;
    cursor: pointer; background: #1e2a3a; color: #cfe8ff; transition: background 0.2s;
}
button:hover { background: #2a3a4a; }
#closeBtn { position: absolute; top: 20px; right: 30px; font-size: 28px; font-weight: bold;
    color: #cfe8ff; background: none; border: none; cursor: pointer; }
#closeBtn:hover { color: #fff; }
</style>
</head>
<body>

<h1>MY PIXEL ART SHOWCASE</h1>
<div class="gallery" id="gallery"></div>

<div id="modal">
    <button id="closeBtn">&times;</button>
    <img id="modalImg" src="">
    <div class="buttons">
        <button id="downloadSmall">Download Original</button>
        <button id="downloadLarge">Download Upscaled</button>
    </div>
</div>

<script>
const folder = "images/";
const gallery = document.getElementById("gallery");
const modal = document.getElementById("modal");
const modalImg = document.getElementById("modalImg");
const closeBtn = document.getElementById("closeBtn");
const downloadSmall = document.getElementById("downloadSmall");
const downloadLarge = document.getElementById("downloadLarge");

async function loadImages() {
    const response = await fetch(folder + "images.json");
    const files = await response.json();
    files.forEach(name => addCard(name));
}

function addCard(name) {
    const card = document.createElement("div");
    card.className = "card";

    const img = document.createElement("img");
    img.src = folder + name;

    const label = document.createElement("div");
    label.className = "name";
    label.textContent = name.replace(".png","");

    card.appendChild(img);
    card.appendChild(label);
    gallery.appendChild(card);

    card.addEventListener("click", () => {
        modal.style.display = "flex";
        modalImg.src = folder + name;

        downloadSmall.onclick = () => {
            const a = document.createElement("a");
            a.href = folder + name;
            a.download = name;
            a.click();
        };

        downloadLarge.onclick = () => {
            const original = new Image();
            original.src = folder + name;
            original.onload = () => {
                const scale = 10;
                const canvas = document.createElement("canvas");
                canvas.width = original.width * scale;
                canvas.height = original.height * scale;
                const ctx = canvas.getContext("2d");
                ctx.imageSmoothingEnabled = false;
                ctx.drawImage(original, 0, 0, canvas.width, canvas.height);
                canvas.toBlob(blob => {
                    const a = document.createElement("a");
                    a.href = URL.createObjectURL(blob);
                    a.download = name.replace(".png","_upscaled.png");
                    a.click();
                    URL.revokeObjectURL(a.href);
                });
            };
        };
    });
}

closeBtn.addEventListener("click", ()=>modal.style.display="none");
modal.addEventListener("click", e=>{ if(e.target===modal) modal.style.display="none"; });

loadImages();
</script>

</body>
</html>

